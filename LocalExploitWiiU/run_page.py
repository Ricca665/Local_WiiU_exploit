import os
import time
import socket
import subprocess

#Check ip adress: https://stackoverflow.com/questions/166506/finding-local-ip-addresses-using-pythons-stdlib/

def get_ip():
        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        s.settimeout(0)
        try:
            # doesn't even have to be reachable
            s.connect(('10.254.254.254', 1))
            IP = s.getsockname()[0]
        except Exception:
            IP = '127.0.0.1'
        finally:
            s.close()
        return IP
   
print("Your adress should be: " + get_ip() + ":8000")
try:
    # Attempt to start the HTTP server using 'python -m http.server'
	# Run the command 'python -m http.server' without printing the output
	subprocess.run(["python", "-m", "http.server"], stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)
except Exception as e:
    print("An error has occured, err code: ':", e)

try:
    # Attempt to start the HTTP server using 'py -m http.server'
# Run the command 'python -m http.server' without printing the output
	subprocess.run(["py", "-m", "http.server"], stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)
except Exception as e:
    print("An error has occurred, err code: ", e)
print("Exiting...")